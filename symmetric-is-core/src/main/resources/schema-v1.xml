<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "database.dtd">

<database name="symmetric-is">

    <table name="folder" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="Full path to folder" />
        <column name="type" type="VARCHAR" size="50" required="true" description="COMPONENT, GRAPH, CONNECTION, or AGENT" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
    </table>

    <table name="structured_model" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="" />
        <column name="folder_id" type="VARCHAR" size="128" description="Optional." />
        <column name="shared" type="BOOLEANINT" size="1" default="0" description="Indicator as to whether this is a shared component." />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_sm_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="structured_model_version" description="">
        <column name="structured_model_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="structured_model" name="fk_smv_2_sm">
            <reference local="structured_model_id" foreign="id" />
        </foreign-key>
    </table>
    
    <table name="structured_model_version_setting" description="">
        <column name="structured_model_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255"  primaryKey="true" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="structured_model_version" name="fk_smvs_2_smv">
            <reference local="structured_model_id" foreign="structured_model_id" />
            <reference local="version" foreign="version" />
        </foreign-key>
    </table>    

    <table name="structured_model_attribute" description="">
        <column name="structured_model_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="INTEGER, STRING, LONG, BOOLEAN, DECIMAL, ENUM, COMPLEX, SEQUENCE" />
        <column name="type_structured_model_id" type="VARCHAR" size="128" description="Must be filled out when type is COMPLEX or SEQUENCE" />
        <column name="type_version" type="BIGINT" description="Must be filled out when type is COMPLEX or SEQUENCE" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="structured_model_version" name="fk_sma_2_smv_1">
            <reference local="structured_model_id" foreign="structured_model_id" />
            <reference local="version" foreign="version" />
        </foreign-key>
        <foreign-key foreignTable="structured_model_version" name="fk_sma_2_smv_2">
            <reference local="type_structured_model_id" foreign="structured_model_id" />
            <reference local="type_version" foreign="version" />
        </foreign-key>
    </table>
    
    <table name="connection" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="" />
        <column name="folder_id" type="VARCHAR" size="128" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_con_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="connection_version" description="">
        <column name="connection_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="connection" name="fk_conv_2_con">
            <reference local="connection_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="connection_version_setting" description="">
        <column name="connection_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" primaryKey="true" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="connection_version" name="fk_convs_2_conv">
            <reference local="connection_id" foreign="connection_id" />
            <reference local="version" foreign="version" />
        </foreign-key>
    </table>    

    <table name="component" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="" />
        <column name="folder_id" type="VARCHAR" size="128" description="" />
        <column name="shared" type="BOOLEANINT" size="1" default="0" description="Indicator as to whether this is a shared component." />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_cmp_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="component_version" description="">
        <column name="component_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="input_structured_model_id" type="VARCHAR" size="128" description="" />
        <column name="input_version" type="BIGINT" description="" />
        <column name="output_structured_model_id" type="VARCHAR" size="128" description="" />
        <column name="output_version" type="BIGINT" description="" />
        <column name="connection_id" type="VARCHAR" size="128" description="" />
        <column name="connection_version" type="BIGINT" description="" />        
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component" name="fk_cmpv_2_cmp">
            <reference local="component_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="structured_model_version" name="fk_cmpv_2_smv_1">
            <reference local="input_structured_model_id" foreign="structured_model_id" />
            <reference local="input_version" foreign="version" />
        </foreign-key>
        <foreign-key foreignTable="structured_model_version" name="fk_cmpv_2_smv_2">
            <reference local="output_structured_model_id" foreign="structured_model_id" />
            <reference local="output_version" foreign="version" />
        </foreign-key>
        <foreign-key foreignTable="connection_version" name="fk_cmpv_2_conv">
            <reference local="connection_id" foreign="connection_id" />
            <reference local="version" foreign="version" />
        </foreign-key>        
    </table>

    <table name="component_version_setting" description="">
        <column name="component_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" primaryKey="true" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component_version" name="fk_cmpvs_2_cmv">
            <reference local="component_id" foreign="component_id" />
            <reference local="version" foreign="version" />
        </foreign-key>
    </table>

    <table name="component_graph" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="" />
        <column name="folder_id" type="VARCHAR" size="128" description="" />
        <column name="shared" type="BOOLEANINT" size="1" default="0" description="Indicator as to whether this is a shared component." />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_cmpg_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="component_graph_version" description="">
        <column name="component_graph_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component_graph" name="fk_cmpgv_2_cmpg">
            <reference local="component_graph_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="component_graph_node" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="component_graph_id" type="VARCHAR" size="128" required="true" description="A unique identifer" />
        <column name="component_graph_version" type="BIGINT" required="true" description="A version number" />
        <column name="component_id" type="VARCHAR" size="128" required="true" description="A unique identifer" />
        <column name="component_version" type="BIGINT" required="true" description="A version number" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component_graph_version" name="fk_cgn_2_cgv">
            <reference local="component_graph_id" foreign="component_graph_id" />
            <reference local="component_graph_version" foreign="version" />
        </foreign-key>
        <foreign-key foreignTable="component_version" name="fk_cgn_2_cv">
            <reference local="component_id" foreign="component_id" />
            <reference local="component_version" foreign="version" />
        </foreign-key>
    </table>
    
    <table name="component_graph_node_link" description="">
        <column name="source_node_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="target_node_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component_graph_node" name="fk_cgnl_2_cgn_s">
            <reference local="source_node_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="component_graph_node" name="fk_cgnl_2_cgn_t">
            <reference local="target_node_id" foreign="id" />
        </foreign-key>
    </table>
    
    <table name="agent" description="">
        <column name="id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="folder_id" type="VARCHAR" size="128" description="" />        
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />        
        <foreign-key foreignTable="folder" name="fk_agnt_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>    
    
    <table name="agent_setting" description="">
        <column name="agent_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" primaryKey="true" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="agent" name="fk_agnts_2_agnt">
            <reference local="agent_id" foreign="id" />
        </foreign-key>
    </table>    
    
    <table name="agent_deployment" description="">
        <column name="agent_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="component_graph_id" type="VARCHAR" size="128" required="true" primaryKey="true" description="A unique identifer" />
        <column name="component_graph_version" type="BIGINT" required="true" primaryKey="true" description="A version number" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component_graph_version" name="fk_agntd_2_cgv">
            <reference local="component_graph_id" foreign="component_graph_id" />
            <reference local="component_graph_version" foreign="version" />
        </foreign-key>
        <foreign-key foreignTable="agent" name="fk_agntd_2_agnt">
            <reference local="agent_id" foreign="id" />
        </foreign-key>
    </table>    

</database>