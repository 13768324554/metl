<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "database.dtd">

<database name="symmetric-is">

    <table name="folder" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="parent_folder_id" type="CHAR" size="36" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="Name of the folder" />
        <column name="type" type="VARCHAR" size="50" required="true" description="COMPONENT, FLOW, RESOURCE, or AGENT" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_fldr_2_fldr">
            <reference local="parent_folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="model" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="RELATIONAL" />
        <column name="shared" type="BOOLEANINT" size="1" default="0" description="Indicator as to whether this is a shared model." />
        <column name="folder_id" type="CHAR" size="36"/>
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_m_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="model_entity" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="model_id" type="CHAR" size="36" required="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="model" name="fk_me_2_m">
            <reference local="model_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="model_attribute" description="">
        <column name="id" primaryKey="true" required="true" type="CHAR" size="36" />
        <column name="entity_id" type="CHAR" size="36" required="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" required="true" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="INTEGER, STRING, LONG, BOOLEAN, DECIMAL, ENUM, COMPLEX, SEQUENCE" />
        <column name="type_entity_id" type="CHAR" size="36" description="Must be filled out when type is COMPLEX or SEQUENCE" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="model_entity" name="fk_ei_2_me_1">
            <reference local="entity_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model_entity" name="fk_tei_2_me_2">
            <reference local="type_entity_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="model_entity_relationship">
        <column name="id" primaryKey="true" required="true" type="CHAR" size="36" />
        <column name="name" required="true" type="VARCHAR" size="255" />
        <column name="source_entity_id" type="CHAR" size="36" />
        <column name="target_entity_id" type="CHAR" size="36" />
        <column name="create_by" type="VARCHAR" size="50" />
        <column name="create_time" type="TIMESTAMP" />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="model_entity" name="fk_mer_2_me_1">
            <reference local="source_entity_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model_entity" name="fk_mer_2_me_2">
            <reference local="target_entity_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="model_attribute_relationship">
        <column name="entity_relationship_id" required="true" type="CHAR" size="36" primaryKey="true" />
        <column name="source_attribute_id" type="CHAR" size="36" required="true" primaryKey="true" />
        <column name="target_attribute_id" type="CHAR" size="36" required="true" primaryKey="true" />
        <column name="create_by" type="VARCHAR" size="50" />
        <column name="create_time" type="TIMESTAMP" />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="model_entity_relationship" name="fk_mar_2_mer">
            <reference local="entity_relationship_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model_attribute" name="fk_mar_2_ma_1">
            <reference local="source_attribute_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model_attribute" name="fk_mar_2_ma_2">
            <reference local="target_attribute_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="resource" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="type" type="VARCHAR" size="50" required="true" description="" />
        <column name="folder_id" type="CHAR" size="36" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_res_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="resource_setting" description="">
        <column name="resource_id" type="CHAR" size="36" required="true" primaryKey="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" primaryKey="true" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="resource" name="fk_ress_2_res">
            <reference local="resource_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="component" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" required="true" description="A user defined name for the component" />
        <column name="type" type="VARCHAR" size="50" required="true" description="" />
        <column name="folder_id" type="CHAR" size="36" description="" />        
        <column name="shared" type="BOOLEANINT" size="1" default="0" description="Indicator as to whether this is a shared component." />
        <column name="input_model_id" type="CHAR" size="36" description="" />
        <column name="output_model_id" type="CHAR" size="36" description="" />
        <column name="resource_id" type="CHAR" size="36" description="" />        
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_cmp_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model" name="fk_cmpv_2_m_1">
            <reference local="input_model_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model" name="fk_cmpv_2_m_2">
            <reference local="output_model_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="resource" name="fk_cmpv_2_res">
            <reference local="resource_id" foreign="id" />
        </foreign-key>        
    </table>

    <table name="component_setting" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="component_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component" name="fk_cmpvs_2_cmv">
            <reference local="component_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="component_entity_setting" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="component_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="entity_id" type="CHAR" size="36" required="true" description="A version number" />
        <column name="name" type="VARCHAR" size="255" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component" name="fk_cves_2_cv">
            <reference local="component_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model_entity" name="fk_fves_2_me">
            <reference local="entity_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="component_attribute_setting" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="component_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="attribute_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="component" name="fk_cvas_2_cv">
            <reference local="component_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="model_attribute" name="fk_fvas_2_ma">
            <reference local="attribute_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="flow" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="folder_id" type="CHAR" size="36" description="" />
        <column name="start_type" type="VARCHAR" default="AUTO" required="true" size="128" description="" />
        <column name="start_expression" type="VARCHAR" size="255" description="" />        
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_flw_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="flow_step" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="flow_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="component_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="x" type="INTEGER" default="10" required="true" />
        <column name="y" type="INTEGER" default="10" required="true" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="flow" name="fk_flws_2_flwv">
            <reference local="flow_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="component" name="fk_flws_2_cv">
            <reference local="component_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="flow_step_link" description="">
        <column name="source_step_id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="target_step_id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="flow_step" name="fk_fsl_2_fs_s">
            <reference local="source_step_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="flow_step" name="fk_fsl_2_fs_t">
            <reference local="target_step_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="agent" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" description="" />
        <column name="folder_id" type="CHAR" size="36" description="" />
        <column name="host" type="VARCHAR" size="255" description="" />
        <column name="start_mode" type="VARCHAR" size="255" description="" />
        <column name="status" type="VARCHAR" size="255" description="" />
        <column name="last_start_time" type="TIMESTAMP" description="" />
        <column name="heartbeat_time" type="TIMESTAMP" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="folder" name="fk_agnt_2_fldr">
            <reference local="folder_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="agent_setting" description="">
        <column name="agent_id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="name" type="VARCHAR" size="255" primaryKey="true" required="true" description="" />
        <column name="value" type="VARCHAR" size="255" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="agent" name="fk_agnts_2_agnt">
            <reference local="agent_id" foreign="id" />
        </foreign-key>
    </table>

    <table name="agent_deployment" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="agent_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="flow_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="start_mode" type="VARCHAR" size="255" description="" />
        <column name="status" type="VARCHAR" size="255" description="" />
        <column name="message" type="VARCHAR" size="4000" description="" />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />
        <foreign-key foreignTable="flow" name="fk_agntd_2_flwv">
            <reference local="flow_id" foreign="id" />
        </foreign-key>
        <foreign-key foreignTable="agent" name="fk_agntd_2_agnt">
            <reference local="agent_id" foreign="id" />
        </foreign-key>
    </table>
    
    <table name="execution" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="agent_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="flow_id" type="CHAR" size="36" required="true" description="A unique identifer" />
		<column name="agent_name" type="VARCHAR" size="255" description="" />
		<column name="host_name" type="VARCHAR" size="255" description="" />
		<column name="flow_name" type="VARCHAR" size="255" description="" />
        <column name="status" type="VARCHAR" required="true" default="REQUESTED" size="255" description="" />
        <column name="start_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="end_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="create_by" type="VARCHAR" size="50" description="The user who last updated this entry." />
        <column name="last_update_by" type="VARCHAR" size="50" description="The user who created this entry." />
        <column name="last_update_time" type="TIMESTAMP" description="Timestamp when a user last updated this entry." />               
    </table>    

    <table name="execution_params" description="">
       <column name="execution_id" type="CHAR" size="36" required="true" description="A unique identifer" />
       <column name="name" type="VARCHAR" size="255" primaryKey="true" required="true" description="" />
       <column name="value" type="VARCHAR" size="255" description="" />       
    </table>    
    
     <table name="execution_step" description="">
        <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
        <column name="execution_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="flow_step_id" type="CHAR" size="36" required="true" description="A unique identifer" />
        <column name="component_name" type="VARCHAR" required="true" size="255" description="" />
        <column name="status" type="VARCHAR" size="255" description="" />
        <column name="messages_received" type="INTEGER" default="0" required="true" />
        <column name="messages_produced" type="INTEGER" default="0" required="true" />
        <column name="start_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
        <column name="end_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
    </table>        

    <table name="execution_step_log" description="">
       <column name="id" type="CHAR" size="36" required="true" primaryKey="true" description="A unique identifer" />
       <column name="execution_step_id" type="CHAR" size="36" required="true" description="A unique identifer" />
       <column name="level" type="VARCHAR" size="255" required="true" description="" />
       <column name="log_text" type="VARCHAR" size="4000" description="" />       
       <column name="create_time" type="TIMESTAMP" description="Timestamp when this entry was created." />
    </table>    

</database>
